;8 Bit BCD Addition

.model small
.stack 100h
;.386
.data
D1 DB 13,10, 'Enter 1st no.:$'
D2 DB 13,10, 'Enter 2nd no.:$'
D3 DB 13,10, 'THE RESULT IS:$'
NUM DW ?
NUM1 DW ?
NUM2 DB ?
.code
;.startup

MOV DX,OFFSET D1
MOV AH,09H
INT 21H

MOV BL,00H
MOV CL,08H
MOV AH,01H

L1:
INT 21H
SUB AL,30H
CMP AL,09H
JBE J1
SUB AL,07H
J1:
SHL BX,4
ADD BL,AL
LOOP L1

MOV NUM,BX

MOV DX,offset D2
MOV AH,09H
INT 21H

MOV BL,00H
MOV CL,08H
MOV AH,01H

L2:
INT 21H
SUB AL,30H
CMP AL,09H
JBE J2
SUB AL,07H
J2:
SHL BX,4
ADD BL,AL
LOOP L2

MOV NUM1,BX

MOV DX,offset D3
MOV AH,09H
INT 21H

MOV DX,NUM1
MOV BX,NUM

MOV AL,BL
ADD AL,DL
DAA
MOV CL,AL

MOV AL,BH
ADC AL,DH
DAA
MOV CH,AL
LAHF 
SHR DX,16
SHR BX,16
SHL CX,16
SAHF
MOV AL,BL
ADC AL,DL
DAA
MOV CL,AL

MOV AL,BH
ADC AL,DH
DAA
MOV CH,AL

MOV DX,CX

SHR DX,12
AND DX,0FH

CMP DL,09H
JBE J7
ADD DL,07H
J7:

ADD DL,30H
MOV AH,02H
INT 21H

MOV DX,CX
SHR DX,08
AND DX,0FH

CMP DL,09H
JBE J8
ADD DL,07H
J8:

ADD DL,30H
MOV AH,02H
INT 21H

MOV DX,CX
SHR DX,04
AND DX,0FH

CMP DL,09H
JBE J9
ADD DL,07H
J9:

ADD DL,30H
MOV AH,02H
INT 21H

MOV DX,CX
AND DX,0FH

CMP DL,09H
JBE J10
ADD DL,07H
J10:

ADD DL,30H
MOV AH,02H
INT 21H

MOV DX,CX
SHR DX,28
CMP DL,09H
JBE J3
ADD DL,07H
J3:
ADD DL,30H
MOV AH,02H
INT 21H

MOV DX,CX
SHR DX,24
AND DX,0FH

CMP DL,09H
JBE J4
ADD DL,07H
J4:

ADD DL,30H
MOV AH,02H
INT 21H

MOV DX,CX
SHR DX,20
AND DX,0FH

CMP DL,09H
JBE J5
ADD DL,07H
J5:

ADD DL,30H
MOV AH,02H
INT 21H

MOV DX,CX
SHR DX,16
AND DX,0FH

CMP DL,09H
JBE J6
ADD DL,07H
J6:

ADD DL,30H
MOV AH,02H
INT 21H



;.EXIT
END